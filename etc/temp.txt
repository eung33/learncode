TeamRole:~/environment $ test -n "$AWS_REGION" && echo AWS_REGION is "$AWS_REGION" || echo AWS_REGION is not set
AWS_REGION is ap-northeast-2
TeamRole:~/environment $ test -n "$ACCOUNT_ID" && echo ACCOUNT_ID is "$ACCOUNT_ID" || echo ACCOUNT_ID is not set
ACCOUNT_ID is 369733655560


export ACCOUNT_ID=369733655560
export AWS_REGION=ap-northeast-2


https://oidc.eks.ap-northeast-2.amazonaws.com/id/B15646AF023C2CF20F460EF7954F6773

kubectl create namespace prometheus

helm install prometheus prometheus-community/prometheus \
    --namespace prometheus \
    --set alertmanager.persistentVolume.storageClass="gp2" \
    --set server.persistentVolume.storageClass="gp2"


    1. Get your 'admin' user password by running:

   kubectl get secret --namespace grafana grafana -o jsonpath="{.data.admin-password}" | base64 --decode ; echo

2. The Grafana server can be accessed via port 80 on the following DNS name from within your cluster:

   grafana.grafana.svc.cluster.local

   Get the Grafana URL to visit by running these commands in the same shell:
NOTE: It may take a few minutes for the LoadBalancer IP to be available.
        You can watch the status of by running 'kubectl get svc --namespace grafana -w grafana'
     export SERVICE_IP=$(kubectl get svc --namespace grafana grafana -o jsonpath='{.status.loadBalancer.ingress[0].ip}')
     http://$SERVICE_IP:80

3. Login with the password from step 1 and the username: admin


https://signin.aws.amazon.com/federation?Action=login&Issuer=localhost&Destination=https%3A%2F%2Fconsole.aws.amazon.com%2Fconsole%2Fhome%3Fregion%3Dap-northeast-2&SigninToken=fmcxhBjXKlSR9J4b-wbjLFq0g3lCzEBysJCVUEFQLwbFMhSrmrXy7ZjQ7SQ6iChinnEi-9cKmvV0-2knb3r2Yn08n5LLGJG2j1vt3gRtvrQO08uX6uvBWFAIlXs8OGyLfGK35etyJJ47aWgWG-T81zNTdnlxw3hLealaNgNOo3GXdI6tlKT3p6ak6h1NYXstEMFDa2VCAALt82R7LcNn9ZdAhZepuIXkJH7J0jaMgiY2RW6MYzW_hfnptuC98VFgFsqNWophi8qEMvE1tIrvI2zLVTy3TR4qS95wEtcAHrYf0ALONNcffRh2KxsMfvmRKupZ54P9fsiAI8jYy7zhL_sq1b9Qt4mhmoSh6ZBbAloMV9l8H_Sx_BTcba9S7NB2As_W470qWxtqqyFTzrcA9-85N2Pi24fB22HeNCVew40iW5xMSSiRA3oz85eu9r1uVUnHK7zEs963HogcmZO73kipfpmcr3aMR6mCev1U8SviU3Ivhrx8E5bXkaQrTUfzxHFQQlRlzt2l0Lqz3AXy0yk5Imyas5KkRlbXJD12jyV06dIAUN0yYh5BdU_D4sOu-OpgddChgrHLS0PmH9gyQqexHkJXViiTd3wh-sqVgwGzDmCwfhzCpySLuEMVLGLkmD1czBmhfp7zCP4e_5QYjc20ScdrGBPGK0SpJsvhIt13rKOlDIU3vlouITCCqTbP13tprukkU0hu1lCZRgnadLjNdDY-PF1E4tzNBLZgCwIZMleDc0X5QvdtGS0HCHH4nFw_KOQIdInb5CgNtwWZGE1_lxBaQrzwIJ3b0Amf_p_YOoQcsBE2bSF4qOorO0oEsuoUfsAJZtqk70WOL94gMigVwdwoMo3IVr_mQGs85nXdWgnEdUe1FcvBdKxhioq8wmPpHlqJPw97DJYbheOz8XPNIDQxv4u4Mf-RnAFGQEWLrJoJDggU96zbEKfzPvsT9yJ5_-i7mU_r9euIbUgdnj70RffaSKY5DsfwjOMwK_LeileKJVzGR7iVHnBK2PW278M_c-q-jJUW6GHeQgcC_MxRrgq56VnLSuYUs9xv8uHC8yCPzS6YIkDEqfVt8yqovtSwhuCxcA03XYehdv1sk5WiKviLTfetNkHkw4f1qgMhjR5bOWfVmozI8lNdXmVN2PJOLqzRiv1_hHxEA-n3rdnQf1kIuaLFjzPws3F50oPxulrgY2p7o3klswP8sz33PgJsKxYfDktDDRl-b7MM_JRTwnI6ea-iHUiLMRtClNaLVwhKwTT6zpCKEKJxwagN6di1VWSkc42b4YLcbJiLEafkX_I9M600der1F9boTZH3Zh7F01If5klRsHIqU0TGzM_Isg_7bT8UvoHipHtoVWYFWyNdKAcXjC6GYVg-5ZHb1RCUMT38w32Echl1U5l_P3IZdraAdV0ww-XTIvLnGF-mEwSbqOcSFrc0Q6GN9eM


4180 0345 1512 0564

MC73M2YSNNSRW27KSWJA
